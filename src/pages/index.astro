---
import Layout from "../layouts/Layout.astro";
import Title from "../components/Title.astro";
import { YouTube } from "@astro-community/astro-embed-youtube";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

import News from "../components/Newsletter.astro";
import BeExperimenting from "../components/BeExperimenting.astro";

import { getCollection } from "astro:content";
const posts = await getCollection("blog");
const tops = await getCollection("top");

// 	canonicalURL="https://astro-simple-starter.netlify.app/"
// 	robots="index, follow"
---

<Layout
  title={SITE_TITLE}
  description={SITE_DESCRIPTION}
  keywords="Historical fiction, tall tales, Myths, Legends, Arthur, Astro themes, astro web framework, astro website, astro web project, astro web app, astro javascript, astro js, astro web library, astro coding, astro web development"
  canonicalURL="https://hal4.netlify.app/"
  robots="index, follow"
>
  <body>
    <main class="bg-gradient-to-br from-red-400 to-orange-200 prose">
      <article
        class="prose prose-h1:text-5xl prose-h2:text-5xl prose-h3:text-2xl"
      >
        <section class="max-w-xl mx-auto">
          <Title
            text="Hal's Task: Missing Lass "
            variant="display"
            element="h1"
            class="p-4 hover:underline"
          />
        </section>
        <section class="bg-purple-500 max-w-xl mx-auto">
          <YouTube
            id="https://youtube.com/shorts/QRcXN2innGU?si=7rrZp4kUhFg_bvJA"
          />

          <YouTube
            id="https://youtube.com/shorts/vV5YXFDVFqM?si=DBPZ3EIObG777orE"
          />

          <YouTube
            id="https://youtube.com/shorts/Kf7Jik0yeeQ?si=vtlaE6sEtzmIVMv_"
          />

          <YouTube
            id="https://youtube.com/shorts/HDDa0IqPVXY?si=ivlK_ypQa3PVHheb"
          />
        </section>

        <section class="bg-yellow-300 p-3">
          <Title
            text="RAted Top Tips"
            variant="display"
            element="h1"
            class="p-4 hover:underline"
          />

          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            {tops.map((top) => <BeExperimenting {...top} />)}
          </div>
        </section>

        <section class="max-w-xl mx-auto prose">
          <Title
            text="Blog POsts 🏴‍☠️"
            variant="display"
            element="h1"
            class="p-4 hover:underline"
          />

          <ul>
            {
              posts.map((post) => (
                <li>
                  <a class="no-underline " href={`/blog/${post.slug}/`}>
                    <br />
                    <Title
                      text={post.data.title}
                      variant="large"
                      element="h1"
                      class="p-4 hover:underline"
                    />
                    <br />
                  </a>
                </li>
              ))
            }
          </ul>
        </section>
        <section>
          <News />
        </section>
      </article>
    </main>
  </body>
</Layout>
