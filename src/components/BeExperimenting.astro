---
import { type CollectionEntry, getCollection } from "astro:content";

import Title from "./Title.astro";
import Stars from "./Stars.astro";

export async function getStaticPaths() {
  const tops = await getCollection("top");
  return tops.map((top) => ({
    params: { slug: top.slug },
    props: top,
  }));
}
type Props = CollectionEntry<"top">;

const top = Astro.props;

// title
// post.data.frontmatter
// console.log("post", top);

const alt = "alt";
---

<article class="bg-white">
  <div class="py-3 px-3 flex flex-col gap-1">
    <a href={`/${top.slug}/`}>
      <img class="size-full object-cover" src={top.data.photo} alt={alt} />
      <Title text={top.data.title} variant="small" element="h3" />
      <Stars rating={top.data.stars} />
    </a>
  </div>
</article>
